# 系统提示词一致性工作指导

## 问题背景

用户反馈：03系统提示词生成的界面设计方案中的导航架构配置部分，没有严格遵循02系统提示词生成的页面规划。

## 根本原因

1. **变量引用不充分**：03系统提示词缺乏对{{page_list}}的强制性依赖
2. **输出结构固化**：使用预设模板而非动态生成
3. **一致性约束缺失**：缺乏强制性验证机制
4. **数据传递链断裂**：两个提示词间的数据传递不够明确

## 优化方案

### 02系统提示词优化 ✅
- **强化导航设计基础输出**：标准化页面分组方案和菜单项配置
- **添加JSON格式规范**：为03系统提示词提供结构化数据
- **明确分组逻辑**：一级分组、二级分组的清晰定义

### 03系统提示词优化 ✅
- **强制性依赖**：添加必须基于{{page_list}}的强制要求
- **去除预设模板**：用动态生成替代固定JSON模板
- **增加验证机制**：数据来源验证清单和一致性检查
- **严格约束**：在限制部分添加强制性约束条件

## 正确使用流程

### 阶段二：页面规划（02系统提示词）
1. **输入准备**：确保{{framework_design}}、{{module_list}}、{{innovation_points}}等变量完整
2. **重点关注**：第5节"导航设计基础"必须按标准格式输出
3. **质量验证**：检查页面分组方案和标准化导航菜单项配置是否完整

### 阶段二：界面设计（03系统提示词）
1. **前置验证**：确认已获取完整的{{page_list}}页面规划文档
2. **数据来源验证**：完成验证清单确认
   - [ ] 已完整读取{{page_list}}中的页面分组方案
   - [ ] 已获取标准化导航菜单项配置数据
   - [ ] 已确认主要导航路径定义
   - [ ] 已理解面包屑层级规划
3. **严格基于数据生成**：禁止使用预设模板，必须基于页面规划动态生成
4. **一致性检查**：完成导航系统检查清单验证

## 关键检查点

### 导航一致性验证
- ✅ 导航配置与{{page_list}}中的页面规划100%一致
- ✅ {{page_list}}中的每个页面都在导航中有对应入口
- ✅ 导航分组严格遵循页面规划中的分组方案
- ✅ AI功能页面在导航中有特殊标识
- ✅ 导航权限控制与页面权限设置一致

## 常见错误避免

### ❌ 错误做法
- 在03系统提示词中使用固定的导航模板
- 忽略{{page_list}}中的具体页面信息
- 自行创建不在页面规划中的导航分组
- 导航菜单项与实际页面不匹配

### ✅ 正确做法
- 严格基于{{page_list}}的内容生成导航配置
- 每个导航菜单项都对应实际页面
- 遵循页面规划中的分组逻辑
- 完成所有验证检查清单

## 优化效果

通过以上优化，确保：
1. **02→03系统提示词**：数据传递完整准确
2. **导航架构一致性**：界面设计与页面规划完全一致
3. **质量保证**：多层验证机制确保输出质量
4. **用户体验**：生成的导航系统与页面规划完美匹配
